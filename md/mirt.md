# 实用（调包）技术 | 项目反应理论及其在R中的使用



项目反应理论（item response theory）是一系列心理统计学模型的总称，其广泛用于心理学和教育学研究中。项目反应理论常见的应用是用来确定考试成绩的学生或者问卷调查中的被访中的某种潜在的特征，用以分析题目（项目）难度、题目（项目）区分度、被访者个人特征的关系。实际上，项目反应理论的使用场景和主成分分析是差不多的 ，但是在XXXX方面更具优势。

本文所介绍的是在R中被广泛用于项目反应理论的包mirt。对于mirt的学习，最完善的教程莫过于官方的[文档](https://cran.r-project.org/web/packages/mirt/mirt.pdf)及[演示文件](https://github.com/philchalmers/mirt/wiki)。但是中文互联网仍缺乏对mirt包的介绍和教程，本文分为以下两个部分，第一个部分对项目反应理论进行简单的介绍；第二部分使用自带的Science数据集演示如何使用mirt进行多级项目反应理论的分析。

## 对IRT的朴素理解

项目反应理论最常见的3PL模型表示方式是：

![p_{i}({\theta })=c_{i}+{\frac {1-c_{i}}{1+e^{{-a_{i}({\theta }-b_{i}) }}}}](https://wikimedia.org/api/rest_v1/media/math/render/svg/a95c7fc8664215f1f27931c1bf471d167ae2840e)

其中的$p_{i}(\theta)$是编号为$i$的题目被答对的概率，$a_{i}$是编号为$i$的题目的区分度，$b_{i}$是编号为$i$的题目的难度，$c_{i}$是编号为$i$的题目瞎猜也能猜中的概率， 而$\theta$则是我们要提取出来作为结果的被访者回答这些问题时发挥作用的潜变量特质。

![img](https://upload.wikimedia.org/wikipedia/commons/7/7b/3PL_IRF.png)

直接以公式理解IRT比较困难，但是以可视化方式表示就容易理解得多。上图的项目特征曲线（Item Characteristic Curve, ICC）表示的是潜变量特质$\theta$和正确回答编号为$i$的题目之间的关系。可以发现，当潜变量特质$\theta$越大，题目就越容易被答对。

这条曲线受几个因素的影响，首先，当潜变量特质$\theta$基本没有没有时（以智商举例就是笨到家了），$c_{i}$代表了编号为$i$的题目瞎猜也能猜中的概率，在ICC曲线中变现为截距。

同时，$a_{i}$项目区分度在图中表示为斜率，可以把它理解为敏感度。$a_{i}$如果很大，则表示只要个人特质稍有变化，答对为题的概率就会大受影响。

最后，$b_{i}$是编号为$i$的题目的难度，在途中表示为$\theta = 0$的情况下，$p_{i}(\theta)$的取值。在理想情况下，当个人特质为所有人的平均水平($\theta = 0$）时，答对问题的概率$p_{i}(\theta)$也应该是0.5。但很多情况下题目会巨难，即使学生的智商$\theta$很高也没用，这才会有老师给同学们期末成绩开方乘以10来调分的盛况。实际上IRT也确实常用于雅思、GRE等考试项目的设计之中，以确保题目涉及的科学性。

上文介绍的3PL模型指的就是三个参数（$a、b、c$）的二元变量模型，本文所要介绍的多级项目反应理论与上文的不同之处在于问题选项大于两个。至于多级项目反应理论模型怎么理解，大致可以认为是XXXXXXXXXXXX

而本文之所以介绍多级项目反应理论（graded response model），是因为在社会调查中李克特量表等多级选项比二元选项更加常见。通常我们询问被访的政治态度/政治行为时，提供的选项通常为“1 非常同意” 到 “ 5 非常不同意”的形式，并且该问题模块中的选项一致。此时如果研究者想从这一模块的问题（比如，政治态度模块）中提取出被访回答问题背后的某种特质（比如，政治信任），便可以使用项目反应理论进行提取。

## IRT在R中的实现

首先是安装和导入包

```
library(mirt)   
library(dplyr)
```

接着看一眼我们要用的数据



接着要进行的步骤是将数据喂mirt的模型之中

```
mod1 <- (mirt(scale, 1, verbose = FALSE, itemtype = 'graded', SE = TRUE))
```

常用的几个参数有

itemtype，模型的选择 XXXXXX

跑完模型后，用M2

